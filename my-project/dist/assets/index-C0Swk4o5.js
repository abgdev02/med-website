const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/three-components-Br6A3XOH.js","assets/react-three-CwVO3Jha.js","assets/three-TqPnz05j.js","assets/utils-DVgDaGdu.js","assets/TabSection-D5Pk-0XX.js","assets/TabSection-yCnnEbqW.css","assets/HoldMeditateSection-BKR0UkbP.js"])))=>i.map(i=>d[i]);
import{r as u,j as a,C as I,F as N,b as M,_,c as $,R as B}from"./react-three-CwVO3Jha.js";import{P as W}from"./three-components-Br6A3XOH.js";import"./three-TqPnz05j.js";import"./utils-DVgDaGdu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const q="_nav_1ye8j_3",P="_logo_1ye8j_37",F="_links_1ye8j_63",z="_navLink_1ye8j_83",D="_active_1ye8j_121",H="_skipToMain_1ye8j_147",C={nav:q,logo:P,links:F,navLink:z,active:D,skipToMain:H};function G({}){const[t,e]=u.useState("home");u.useEffect(()=>{const r=()=>{const o=["home","about","how-it-works"],n=window.scrollY+100;for(const i of o){const c=document.getElementById(i);if(c){const{offsetTop:l,offsetHeight:d}=c;if(n>=l&&n<l+d){e(i);break}}}};return window.scrollY<100&&e("home"),window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const s=r=>t===r;return a.jsxs(a.Fragment,{children:[a.jsx("a",{href:"#main-content",className:C.skipToMain,children:"Skip to main content"}),a.jsxs("nav",{className:C.nav,role:"navigation","aria-label":"Main navigation",children:[a.jsx("a",{href:"#home",className:C.logo,"aria-label":"iembraceland home",children:"iembraceland"}),"        ",a.jsxs("ul",{className:C.links,role:"list",children:[a.jsx("li",{children:a.jsx("a",{href:"#home",className:`${C.navLink} ${s("home")?C.active:""}`,"aria-current":s("home")?"page":void 0,children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"#about",className:`${C.navLink} ${s("about")?C.active:""}`,"aria-current":s("about")?"page":void 0,children:"About"})}),a.jsx("li",{children:a.jsx("a",{href:"#how-it-works",className:`${C.navLink} ${s("how-it-works")?C.active:""}`,"aria-current":s("how-it-works")?"page":void 0,children:"How it works"})})]})]})]})}class O extends u.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Error Info:",s)}render(){var e;return this.state.hasError?this.props.fallback||a.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"14px",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",margin:"10px"},children:[a.jsx("p",{children:"⚠️ 3D visualization temporarily unavailable"}),a.jsxs("details",{style:{marginTop:"10px",fontSize:"12px"},children:[a.jsx("summary",{children:"Technical Details"}),a.jsxs("p",{style:{margin:"5px 0"},children:["Component: ",this.props.componentName||"Unknown"]}),a.jsx("p",{style:{margin:"5px 0",fontFamily:"monospace"},children:(e=this.state.error)==null?void 0:e.message})]})]}):this.props.children}}const U="_heroWrapper_1w6xd_3",V="_heroCanvas_1w6xd_139",K="_rootTextBackground_1w6xd_175",X="_rootText_1w6xd_175",Y="_mainContent_1w6xd_337",Q="_subtitleBottomLeft_1w6xd_429",J="_subtitleRightSide_1w6xd_479",Z="_mobile_1w6xd_533",ee="_ctaButton_1w6xd_583",te="_scrollCue_1w6xd_913",w={heroWrapper:U,heroCanvas:V,rootTextBackground:K,rootText:X,mainContent:Y,subtitleBottomLeft:Q,subtitleRightSide:J,mobile:Z,ctaButton:ee,scrollCue:te};function ne({children:t,speed:e=1}){const s=u.useRef(null);return M((r,o)=>{s.current&&(s.current.rotation.y+=o*e*.5)}),a.jsx("group",{ref:s,children:t})}function oe({isMobile:t}){return a.jsxs("div",{className:`${w.heroWrapper} ambient-glow`,children:["      ",a.jsxs(I,{className:w.heroCanvas,camera:{position:[0,0,3.5],fov:45},children:["        ",a.jsx("ambientLight",{intensity:.8}),a.jsx("directionalLight",{position:[4,6,5],intensity:.6}),a.jsx("directionalLight",{position:[-3,4,3],color:"#f0f4f8",intensity:.4}),a.jsx("directionalLight",{position:[0,-2,2],color:"#e8f2ff",intensity:.2}),a.jsx(O,{componentName:"ProceduralPebble",children:a.jsxs(u.Suspense,{fallback:null,children:["            ",a.jsxs(N,{floatIntensity:1,rotationIntensity:.4,speed:.6,children:["              ",a.jsxs(ne,{speed:.6,children:["                ",a.jsxs("group",{scale:t?[.496,.248,.496]:[.868,.434,.868],position:[0,.1,0],children:["                  ",a.jsx(W,{distance:5,quality:"high",enableTextures:!0})]})]})]})]})})]}),"      ",a.jsx("div",{className:w.rootTextBackground,children:a.jsx("h1",{className:w.rootText,"aria-hidden":"true",children:"ROOT"})}),"      ",a.jsx("div",{className:w.mainContent,children:a.jsx("button",{className:`${w.ctaButton} btn-futuristic focus-ring`,"aria-label":"Start your wellness journey",children:"Buy Me :)"})}),"      ",a.jsx("p",{className:`${w.subtitleBottomLeft} ${t?w.mobile:""}`,children:"Companion for Emotional Embracing: ROOT"}),a.jsx("p",{className:`${w.subtitleRightSide} ${t?w.mobile:""}`,children:"The Stone Elf offers a quiet space to welcome, understand, and grow with every feeling."}),a.jsxs("svg",{className:w.scrollCue,viewBox:"0 0 24 36",role:"img","aria-label":"Scroll down",children:[a.jsx("path",{d:"M12 4 v20"}),a.jsx("polyline",{points:"6 18 12 24 18 18"})]})]})}u.lazy(()=>_(()=>import("./three-components-Br6A3XOH.js").then(t=>t.B),__vite__mapDeps([0,1,2,3])));u.lazy(()=>_(()=>import("./three-components-Br6A3XOH.js").then(t=>t.a),__vite__mapDeps([0,1,2,3])).then(t=>({default:t.ProceduralPebble})));u.lazy(()=>_(()=>import("./three-components-Br6A3XOH.js").then(t=>t.S),__vite__mapDeps([0,1,2,3])).then(t=>({default:t.SceneManager})));const ie=u.lazy(()=>_(()=>import("./TabSection-D5Pk-0XX.js"),__vite__mapDeps([4,1,2,5])).then(t=>({default:t.TabSection}))),re=u.lazy(()=>_(()=>import("./HoldMeditateSection-BKR0UkbP.js"),__vite__mapDeps([6,1,2])).then(t=>({default:t.HoldMeditateSection})));function j(){return a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"200px",color:"#003b5e",fontFamily:'"Source Sans Pro", sans-serif',fontSize:"0.9rem",opacity:.7},children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid #e0e7ff",borderTop:"2px solid #003b5e",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("span",{children:"Loading meditation experience..."})]})})}function se({particleCount:t=50}){const e=u.useRef(null);return u.useEffect(()=>{if(!e.current)return;const s=e.current,r=[];for(let o=0;o<t;o++){const n=document.createElement("div");n.className="particle",n.style.cssText=`
        position: absolute;
        width: ${Math.random()*4+2}px;
        height: ${Math.random()*4+2}px;
        background: radial-gradient(circle, rgba(211, 189, 242, ${Math.random()*.6+.2}), transparent);
        border-radius: 50%;
        left: ${Math.random()*100}%;
        animation-delay: ${Math.random()*15}s;
        animation-duration: ${Math.random()*10+10}s;
        animation-name: float-particle;
        animation-iteration-count: infinite;
        animation-timing-function: linear;
        pointer-events: none;
      `,s.appendChild(n),r.push(n)}return()=>{r.forEach(o=>{o.parentNode&&o.parentNode.removeChild(o)})}},[t]),a.jsx("div",{ref:e,className:"particle-bg",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:-10,overflow:"hidden"}})}const ae=()=>{const[t,e]=u.useState(!1),[s,r]=u.useState(!1);return u.useEffect(()=>{const o=()=>{const n=window.innerWidth;e(n<=767),r(n>767&&n<=1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),{isMobile:t,isTablet:s}};async function ce(t){const e=t||document.body,s=[];try{console.debug("🎯 Starting accessibility audit...");const p=(k,E)=>{console.debug(`🎯 Running accessibility check: ${k}`);try{const v=E();return console.debug(`✓ ${k} check completed: ${v.length} issues found`),v}catch(v){return console.warn(`✕ ${k} check failed:`,v),[]}};s.push(...p("Color Contrast",()=>le(e))),s.push(...p("Keyboard Navigation",()=>de(e))),s.push(...p("ARIA Labels",()=>ue(e))),s.push(...p("Heading Structure",()=>me(e))),s.push(...p("Focus Management",()=>pe(e))),s.push(...p("Image Alt Text",()=>he(e))),s.push(...p("Form Labels",()=>fe(e))),s.push(...p("Motion Preferences",()=>ge(e))),s.push(...p("Semantic Structure",()=>be(e))),s.push(...p("Skip Links",()=>ye(e)))}catch(p){console.warn("Accessibility audit encountered errors:",p)}const r=s.filter(p=>p.impact==="critical"),o=s.filter(p=>p.impact==="serious"),n=s.filter(p=>p.impact==="moderate"),i=s.filter(p=>p.impact==="minor"),c=r.length+o.length,l=n.length+i.length,d=c+l,f=Math.max(0,50-d),h=70,m=Math.min(r.length*10,50),g=Math.min(o.length*5,20),b=Math.min(n.length*2,10),S=Math.min(i.length*1,5),A=Math.max(0,h-m-g-b-S);let y="Non-compliant";return A>=90&&r.length===0?y="AA":A>=70&&r.length<=2&&(y="A"),{passed:f,failed:c,warnings:l,issues:s,score:A,compliance:y}}function le(t){const e=[];return t.querySelectorAll("p, span, a, button, h1, h2, h3, h4, h5, h6, li, td, th, label").forEach(r=>{var o;try{const n=getComputedStyle(r);if(n.display==="none"||n.visibility==="hidden"||!((o=r.textContent)!=null&&o.trim()))return;const i=parseFloat(n.fontSize);if(i<8)return;const c=n.color,l=xe(r);if(c&&l){const d=ve(c,l),h=i>=18||i>=14&&(n.fontWeight==="bold"||parseInt(n.fontWeight)>=700)?3:4.5;d<h*.8&&e.push({element:r,type:"error",rule:"WCAG 2.1 AA 1.4.3",description:`Insufficient color contrast ratio: ${d.toFixed(2)}:1 (required: ${h}:1)`,impact:d<h*.6?"critical":"serious",recommendation:`Increase contrast between text (${c}) and background (${l})`})}}catch{}}),e}function de(t){const e=[];return t.querySelectorAll("button, a, input, select, textarea, [tabindex], [onclick]").forEach(r=>{const o=r.getAttribute("tabindex"),n=["button","a","input","select","textarea"].includes(r.tagName.toLowerCase());o&&parseInt(o)>0&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 2.4.3",description:"Positive tabindex values create unpredictable tab order",impact:"moderate",recommendation:'Use tabindex="0" or remove tabindex and rely on natural DOM order'}),!n&&o!=="0"&&(r.hasAttribute("onclick")||r.getAttribute("role")==="button")&&e.push({element:r,type:"error",rule:"WCAG 2.1 AA 2.1.1",description:"Interactive element is not keyboard accessible",impact:"serious",recommendation:'Add tabindex="0" and keyboard event handlers'});const i=getComputedStyle(r,":focus");i.outline==="none"&&!i.boxShadow&&!i.border&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 2.4.7",description:"Missing visible focus indicator",impact:"moderate",recommendation:"Add :focus styles with visible outline or border"})}),e}function ue(t){const e=[];return t.querySelectorAll("button").forEach(n=>{var m;const i=getComputedStyle(n);if(i.display==="none"||i.visibility==="hidden"||n.closest('[role="dialog"], [role="menu"], [role="toolbar"], [role="tablist"]'))return;const c=(m=n.textContent)==null?void 0:m.trim(),l=n.getAttribute("aria-label"),d=n.getAttribute("aria-labelledby"),f=n.getAttribute("title"),h=n.children.length===1&&n.querySelector("svg, img, i.fa, i.icon, span.icon")!==null&&!c;if(!c&&!l&&!d&&!f){const g=h?"serious":"critical";e.push({element:n,type:"error",rule:"WCAG 2.1 AA 4.1.2",description:"Button has no accessible name",impact:g,recommendation:"Add aria-label, visible text, or aria-labelledby attribute"})}}),t.querySelectorAll("img").forEach(n=>{var g,b;const i=getComputedStyle(n);if(i.display==="none"||i.visibility==="hidden")return;const c=n.width||parseInt(i.width)||0,l=n.height||parseInt(i.height)||0;if(c<24||l<24)return;const d=n.getAttribute("alt"),f=n.getAttribute("aria-label"),h=n.getAttribute("role"),m=!!((b=(g=n.closest("a, button"))==null?void 0:g.textContent)!=null&&b.trim()||n.closest("[aria-label]"));d===null&&!f&&h!=="presentation"&&!m&&e.push({element:n,type:"error",rule:"WCAG 2.1 AA 1.1.1",description:"Image missing alt attribute",impact:"serious",recommendation:'Add descriptive alt text or role="presentation" for decorative images'})}),t.querySelectorAll('input:not([type="hidden"]), select, textarea').forEach(n=>{const i=getComputedStyle(n);if(i.display==="none"||i.visibility==="hidden")return;const c=n.getAttribute("id"),l=n.getAttribute("aria-label"),d=n.getAttribute("aria-labelledby"),f=n.getAttribute("title"),h=n.placeholder;let m=!1;c&&(m=!!t.querySelector(`label[for="${c}"]`));const g=n.closest("label")!==null;if(!m&&!l&&!d&&!f&&!g){const b=h?"moderate":"serious";e.push({element:n,type:"error",rule:"WCAG 2.1 AA 3.3.2",description:h?"Form control has placeholder but no label":"Form control has no associated label",impact:b,recommendation:"Add a <label> element or aria-label attribute"})}}),e}function me(t){const e=[],s=Array.from(t.querySelectorAll("h1, h2, h3, h4, h5, h6"));if(s.length===0)return e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.4.6",description:"No headings found on page",impact:"moderate",recommendation:"Add descriptive headings to structure content"}),e;const r=s.filter(n=>n.tagName==="H1").length;r===0?e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.4.6",description:"No H1 heading found",impact:"moderate",recommendation:"Add an H1 heading as the main page title"}):r>1&&e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.4.6",description:"Multiple H1 headings found",impact:"minor",recommendation:"Use only one H1 per page for better structure"});let o=0;return s.forEach(n=>{const i=parseInt(n.tagName.charAt(1));o>0&&i>o+1&&e.push({element:n,type:"warning",rule:"WCAG 2.1 AA 2.4.6",description:`Heading level skipped (H${o} to H${i})`,impact:"minor",recommendation:"Use sequential heading levels for better structure"}),o=i}),e}function pe(t){const e=[];return t.querySelectorAll('[role="dialog"], [role="alertdialog"], .modal').forEach(r=>{r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])').length===0&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 2.4.3",description:"Modal dialog has no focusable elements",impact:"moderate",recommendation:"Add focusable elements or implement focus management"})}),e}function he(t){const e=[];return t.querySelectorAll("img[alt]").forEach(r=>{const o=r.getAttribute("alt"),n=r.getAttribute("src")||"";(o.toLowerCase().includes("image")||o.toLowerCase().includes("picture")||o.toLowerCase().includes("photo"))&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 1.1.1",description:"Alt text contains redundant words (image, picture, photo)",impact:"minor",recommendation:"Remove redundant words and focus on describing the content"}),(n.includes(o)||o.includes("."))&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 1.1.1",description:"Alt text appears to be a filename",impact:"moderate",recommendation:"Use descriptive alt text instead of filename"}),o.length>150&&e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 1.1.1",description:"Alt text is very long (>150 characters)",impact:"minor",recommendation:"Consider using shorter, more concise description"})}),e}function fe(t){const e=[];return t.querySelectorAll("input[required], select[required], textarea[required]").forEach(r=>{var i,c,l;const o=r.getAttribute("aria-required");((c=(i=r.closest("label"))==null?void 0:i.textContent)==null?void 0:c.includes("*"))||((l=r.getAttribute("aria-label"))==null?void 0:l.includes("required"))||o==="true"||e.push({element:r,type:"warning",rule:"WCAG 2.1 AA 3.3.2",description:"Required field not clearly indicated",impact:"moderate",recommendation:'Add visual indicator (*) and aria-required="true"'})}),e}function ge(t){const e=[];return t.querySelectorAll('[style*="animation"], [class*="animate"], [class*="fade"]').length>0&&(Array.from(document.styleSheets).some(o=>{try{return Array.from(o.cssRules).some(n=>{var i;return(i=n.cssText)==null?void 0:i.includes("prefers-reduced-motion")})}catch{return!1}})||e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.3.3",description:"Animations found without prefers-reduced-motion support",impact:"moderate",recommendation:"Add @media (prefers-reduced-motion: reduce) CSS rules"})),e}function be(t){const e=[];return t.querySelector('main, [role="main"]')||e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.4.1",description:"No main landmark found",impact:"moderate",recommendation:'Add <main> element or role="main" to main content area'}),t.querySelectorAll("div[onclick], span[onclick]").forEach(o=>{!o.getAttribute("role")&&!o.getAttribute("tabindex")&&e.push({element:o,type:"error",rule:"WCAG 2.1 AA 4.1.2",description:"Clickable div/span without proper semantics",impact:"serious",recommendation:'Use <button> element or add role="button" and tabindex="0"'})}),e}function ye(t){const e=[];return t.querySelector('a[href="#main"], a[href*="skip"]')||e.push({element:t,type:"warning",rule:"WCAG 2.1 AA 2.4.1",description:"No skip link found for keyboard navigation",impact:"moderate",recommendation:'Add a "Skip to main content" link at the beginning of the page'}),e}function xe(t){try{let e=t,s=!1,r="rgba(0, 0, 0, 0)";for(;e&&e!==document.body&&!s;){if(r=getComputedStyle(e).backgroundColor,r&&r!=="rgba(0, 0, 0, 0)"&&r!=="transparent"){s=!0;break}e=e.parentElement}return s||(r=getComputedStyle(document.body).backgroundColor||"rgb(255, 255, 255)"),r}catch(e){return console.warn("Error getting effective background color:",e),"rgb(255, 255, 255)"}}function ve(t,e){try{const s=R(t),r=R(e);if(!s||!r)return 4.5;const o=T(s),n=T(r),i=Math.max(o,n),c=Math.min(o,n);return(i+.05)/(c+.05)}catch(s){return console.warn("Error calculating contrast ratio:",s),4.5}}function R(t){try{let e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(e)return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];if(t.startsWith("#")){let o=t.slice(1);if(o.length===3&&(o=o.split("").map(n=>n+n).join("")),o.length===6){const n=parseInt(o.slice(0,2),16),i=parseInt(o.slice(2,4),16),c=parseInt(o.slice(4,6),16);return[n,i,c]}}const s={white:[255,255,255],black:[0,0,0],red:[255,0,0],green:[0,128,0],blue:[0,0,255],yellow:[255,255,0]},r=t.toLowerCase();return r in s?s[r]:[0,0,0]}catch(e){return console.warn("Error parsing color:",t,e),null}}function T([t,e,s]){try{const r=[t/255,e/255,s/255].map(o=>o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4));return .2126*r[0]+.7152*r[1]+.0722*r[2]}catch(r){return console.warn("Error calculating relative luminance:",r),.5}}function Ae(t){console.group("🎯 Accessibility Audit Report"),console.log(`Score: ${t.score}/100 | Compliance: ${t.compliance}`),console.log(`Passed: ${t.passed} | Failed: ${t.failed} | Warnings: ${t.warnings}`),t.issues.length>0&&(console.group("Issues Found:"),t.issues.forEach((e,s)=>{const r=e.impact==="critical"?"🚨":e.impact==="serious"?"⚠️":e.impact==="moderate"?"📝":"ℹ️";console.groupCollapsed(`${r} ${e.impact.toUpperCase()}: ${e.description}`),console.log("Rule:",e.rule),console.log("Recommendation:",e.recommendation),console.log("Element:",e.element),console.groupEnd()}),console.groupEnd()),console.groupEnd()}function we(t={}){const{enabled:e=!1,autoRun:s=!1,logToConsole:r=!0,debounceMs:o=1e3,rootSelector:n="main"}=t,[i,c]=u.useState(null),[l,d]=u.useState(!1),[f,h]=u.useState(null),m=u.useRef(),g=u.useRef(new Date),b=async()=>{if(!(!e||l)){d(!0);try{const y=document.querySelector(n)||document.body,p=await ce(y);c(p),h(new Date),r&&Ae(p)}catch(y){console.error("Accessibility audit failed:",y)}finally{d(!1)}}},S=()=>{c(null),h(null)},A=()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{b()},o)};return u.useEffect(()=>{if(!e||!s)return;const y=new MutationObserver(k=>{k.some(v=>v.type==="childList"&&(v.addedNodes.length>0||v.removedNodes.length>0)||v.type==="attributes"&&["aria-label","aria-labelledby","aria-describedby","role","tabindex","alt"].includes(v.attributeName||""))&&(g.current=new Date,A())}),p=document.querySelector(n)||document.body;return y.observe(p,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-label","aria-labelledby","aria-describedby","role","tabindex","alt","class"]}),setTimeout(A,500),()=>{y.disconnect(),m.current&&clearTimeout(m.current)}},[e,s,n,o]),u.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),{report:i,isRunning:l,lastRun:f,runAudit:b,clearReport:S}}function Ce(t=!1){const[e,s]=u.useState(t&&!1),{report:r,isRunning:o,runAudit:n}=we({enabled:t,autoRun:!0,logToConsole:!1,debounceMs:2e3});u.useEffect(()=>{const i=c=>{const l=c;l.detail&&l.detail.visible!==void 0?s(l.detail.visible):s(d=>!d)};return document.addEventListener("a11y-widget-toggle",i),()=>{document.removeEventListener("a11y-widget-toggle",i)}},[]),u.useEffect(()=>{var k,E,v;if(!t)return;let i=document.getElementById("accessibility-monitor"),c=!1;if(!e){i&&i.remove();return}i||(i=document.createElement("div"),i.id="accessibility-monitor",i.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        font-family: system-ui, sans-serif;
        font-size: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        z-index: 10000;
        max-width: 200px;
        cursor: default;
        transition: all 0.2s ease;
        opacity: 0.85;
      `,document.body.appendChild(i));const l=r||{score:100,compliance:"AA",issues:[]},{score:d,compliance:f,issues:h}=l,m=h.filter(x=>x.impact==="critical").length,g=h.filter(x=>x.impact==="serious").length;let b="#28a745";d<60?b="#dc3545":d<80?b="#ffc107":d<90&&(b="#fd7e14"),i.style.borderColor=b,i.innerHTML=`
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 5px;">
        <div style="display: flex; align-items: center;">
          <div style="width: 12px; height: 12px; background: ${b}; border-radius: 50%; margin-right: 8px;"></div>
          <strong>A11y Score: ${d}/100</strong>
        </div>
        <div>
          <button id="a11y-minimize-btn" style="background: none; border: none; cursor: pointer; font-size: 14px; padding: 0 5px; margin-right: 2px;" aria-label="Minimize accessibility widget">_</button>
          <button id="a11y-close-btn" style="background: none; border: none; cursor: pointer; font-size: 14px; padding: 0 5px;" aria-label="Close accessibility widget">×</button>
        </div>
      </div>
      <div style="color: #666; margin-bottom: 5px;">
        Compliance: <strong>${f}</strong>
      </div>
      <div style="color: #666; font-size: 11px;">
        ${m} critical, ${g} serious
      </div>
      <button id="a11y-audit-btn" style="width: 100%; margin-top: 5px; padding: 4px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; font-size: 11px;">
        ${o?"Running audit...":"Run Accessibility Audit"}
      </button>
    `,c?(i.style.transform="translateX(80%)",i.style.opacity="0.5"):(i.style.transform="translateX(0)",i.style.opacity="0.85");const S=document.getElementById("a11y-audit-btn");if(S){const x=S.cloneNode(!0);(k=S.parentNode)==null||k.replaceChild(x,S),x.addEventListener("click",L=>{L.stopPropagation(),n()})}const A=document.getElementById("a11y-minimize-btn");if(A){const x=A.cloneNode(!0);(E=A.parentNode)==null||E.replaceChild(x,A),x.addEventListener("click",L=>{L.stopPropagation(),c=!c,i&&(i.style.transform=c?"translateX(80%)":"translateX(0)",i.style.opacity=c?"0.5":"0.85")})}const y=document.getElementById("a11y-close-btn");if(y){const x=y.cloneNode(!0);(v=y.parentNode)==null||v.replaceChild(x,y),x.addEventListener("click",L=>{L.stopPropagation(),s(!1)})}return()=>{const x=document.getElementById("accessibility-monitor");x&&x.remove()}},[t,e,r,o,n]),u.useEffect(()=>()=>{const i=document.getElementById("accessibility-monitor");i&&i.remove()},[])}function Se(t=!1){u.useEffect(()=>{if(!t)return;let e=[],s=!1;const r=n=>{n.key==="Tab"?(s||(s=!0,e=[],console.group("🎹 Keyboard Navigation Tracking Started")),setTimeout(()=>{var c;const i=document.activeElement;if(i&&i!==document.body){e.push(i);const l=`${i.tagName.toLowerCase()}${i.id?"#"+i.id:""}${i.className?"."+i.className.split(" ").join("."):""}`;console.log(`${e.length}. Focus: ${l}`);const d=i.getAttribute("tabindex"),f=i.getAttribute("aria-label"),h=(c=i.textContent)==null?void 0:c.trim();d&&parseInt(d)>0&&console.warn("⚠️ Positive tabindex detected:",i),!h&&!f&&i.tagName==="BUTTON"&&console.warn("⚠️ Button without accessible text:",i);const m=getComputedStyle(i,":focus");m.outline==="none"&&!m.boxShadow&&console.warn("⚠️ Element may not have visible focus indicator:",i)}},0)):n.key==="Escape"&&s&&(console.log(`🎹 Navigation completed. Total focus changes: ${e.length}`),console.groupEnd(),s=!1,e=[])},o=n=>{s&&n.target instanceof Element&&(n.target.matches('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])')||console.warn("⚠️ Focus on non-standard element:",n.target))};return document.addEventListener("keydown",r),document.addEventListener("focusin",o),()=>{document.removeEventListener("keydown",r),document.removeEventListener("focusin",o),s&&console.groupEnd()}},[t])}function ke(t=!1){u.useEffect(()=>{if(!t)return;const e=document.querySelectorAll("[aria-live]"),s=[];e.forEach(o=>{const n=o.getAttribute("aria-live")||"polite",i=new MutationObserver(c=>{c.forEach(l=>{var d;if(l.type==="childList"||l.type==="characterData"){const f=(d=l.target.textContent)==null?void 0:d.trim();f&&console.info(`📢 Screen Reader (${n==="assertive"?"🔊 ASSERTIVE":"🔇 POLITE"}): "${f}"`)}})});i.observe(o,{childList:!0,characterData:!0,subtree:!0}),s.push(i)});const r=o=>{var n,i;if(o.target instanceof Element){const c=o.target,l=c.getAttribute("aria-label"),d=c.getAttribute("aria-labelledby"),f=(n=c.textContent)==null?void 0:n.trim(),h=c.getAttribute("role")||c.tagName.toLowerCase();let m="";if(l)m=l;else if(d){const g=document.getElementById(d);m=((i=g==null?void 0:g.textContent)==null?void 0:i.trim())||""}else f?m=f:m=`unlabeled ${h}`;m&&console.info(`👁️ Screen Reader Focus: "${m}" (${h})`)}};return document.addEventListener("focusin",r),()=>{s.forEach(o=>o.disconnect()),document.removeEventListener("focusin",r)}},[t])}const Ee={"anchor-focus":{title:"Strengthen focus through pulse-guided breath",features:["Stay present in moments that overwhelm","Reduce spiraling thoughts with steady rhythm"],description:"Let rhythmic sensations and guided breath redirect racing thoughts—helping your mind slow down and return to calm, one pulse at a time."},"release-stress":{title:"Release tension with synchronized breathing",features:["Lower stress hormones naturally","Activate your body's relaxation response"],description:"Feel physical tension melt away as guided vibrations help your nervous system shift from fight-or-flight to rest-and-digest mode."},"enhance-sleep":{title:"Prepare your mind for restorative sleep",features:["Create calming bedtime rituals","Quiet racing thoughts before bed"],description:"Gentle pulses and soothing sounds guide your mind into a peaceful state, making it easier to fall asleep and stay asleep."},"sync-mind-body":{title:"Harmonize mental and physical states",features:["Align breath with heart rate variability","Create coherence between mind and body"],description:"Experience the profound connection between mental clarity and physical wellness through synchronized breathing and biometric feedback."},"practice-stillness":{title:"Cultivate deep mindfulness practice",features:["Develop sustained attention and awareness","Build resilience through consistent practice"],description:"Progress from scattered attention to focused presence, creating a foundation for lasting peace and emotional stability."}};function Le(){const{isMobile:t}=ae();return Ce(!1),Se(!1),ke(!1),u.useEffect(()=>{},[]),a.jsxs(a.Fragment,{children:[a.jsx(se,{particleCount:30}),a.jsx("a",{href:"#main-content",className:"skip-link",style:{position:"absolute",top:"-40px",left:"6px",background:"var(--colors-primary-800)",color:"white",padding:"8px",textDecoration:"none",borderRadius:"0 0 4px 4px",zIndex:1e3,transition:"top 0.2s ease"},onFocus:e=>e.currentTarget.style.top="0",onBlur:e=>e.currentTarget.style.top="-40px",children:"Skip to main content"}),a.jsx(G,{}),"      ",a.jsxs("main",{id:"main-content",role:"main",tabIndex:-1,children:[a.jsx("section",{id:"home","aria-label":"Home",children:a.jsx(oe,{isMobile:t})}),a.jsx("section",{id:"about","aria-label":"About - Meditation techniques",children:a.jsx(u.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(ie,{isMobile:t,tabContent:Ee})})}),a.jsx("section",{id:"how-it-works","aria-label":"How it works - Hold and meditate practice",children:a.jsx(u.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(re,{isMobile:t})})})]})]})}async function _e(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("[SW] Service Worker registered successfully:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("[SW] New service worker available - consider refreshing")})}),t.active&&setTimeout(()=>{var e;(e=t.active)==null||e.postMessage({type:"CACHE_ASSETS",payload:{assets:["/src/BokehBubbles.tsx","/src/components/three-d/ProceduralPebble.tsx","/src/components/three-d/SceneManager.tsx","/src/utils/AnimationScheduler.ts","/src/utils/LRUCache.ts"]}})},2e3)}catch(t){console.warn("[SW] Service Worker registration failed:",t)}}$.createRoot(document.getElementById("root")).render(a.jsx(B.StrictMode,{children:a.jsx(Le,{})}));_e();
//# sourceMappingURL=index-C0Swk4o5.js.map
